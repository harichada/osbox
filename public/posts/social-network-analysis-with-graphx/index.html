<!DOCTYPE html>

<html lang="en-us">
<head>

<title>OpenSourceBox | Social network analysis with GraphX</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
    <link rel="apple-touch-icon" sizes="180x180" href='/favicon/apple-touch-icon.png'>
    <link rel="icon" type="image/png" sizes="32x32" href='/favicon/favicon-32x32.png'>
    <link rel="icon" type="image/png" sizes="16x16" href='/favicon/favicon-16x16.png'>
    <link rel="manifest" href='/favicon/site.webmanifest' />
    <link rel="mask-icon" href=' /favicon/safari-pinned-tab.svg' color="#5bbad5" />
    <link rel="shortcut icon" href='/favicon/favicon.ico' />
    <meta name="theme-color" content="#ffffff">
    <meta property="og:title" content="OpenSourceBox | Social network analysis with GraphX" />
    
    
    
    <link rel="stylesheet" href="/css/style.min.ef88d3b5be8646161728d2c8b8a5e9edfda1e59b414b00c424a9936397884558.css" />
    
    <link href=' /css/blonde.min.css' rel="stylesheet" type="text/css" media="print"
        onload="this.media=' all'">
    



<meta name="description" content="Social Network Analysis with GraphX
Social networks are a fascinating aspect of our society, one that is greatly enhanced by the advent of advanced computer technologies. With the help of these technologies, we can study the intricate workings of our social networks, discovering the relationships and patterns that exist within them. One such technology that is used for social network analysis is GraphX, which is a distributed graph processing system built on top of the Apache Spark computing engine.">
<meta property="og:site_name" content="OpenSourceBox">
<meta property="og:description" content="Social Network Analysis with GraphX
Social networks are a fascinating aspect of our society, one that is greatly enhanced by the advent of advanced computer technologies. With the help of these technologies, we can study the intricate workings of our social networks, discovering the relationships and patterns that exist within them. One such technology that is used for social network analysis is GraphX, which is a distributed graph processing system built on top of the Apache Spark computing engine.">
<meta property="og:url" content="http://opensourcebox.com/posts/social-network-analysis-with-graphx/">
<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="">

<link rel="canonical" href="http://opensourcebox.com/posts/social-network-analysis-with-graphx/">

<meta name="twitter:description" content="Social Network Analysis with GraphX
Social networks are a fascinating aspect of our society, one that is greatly enhanced by the advent of advanced computer technologies. With the help of these technologies, we can study the intricate workings of our social networks, discovering the relationships and patterns that exist within them. One such technology that is used for social network analysis is GraphX, which is a distributed graph processing system built on top of the Apache Spark computing engine.">
<meta property="article:published_time" content="2022-09-20T00:00:00&#43;00:00">
<meta property="article:updated_time" content="2022-09-20T00:00:00&#43;00:00">





<meta property="og:image" content="http://opensourcebox.com/">
<meta property="og:image:url" content="http://opensourcebox.com/">

    
    <link rel="stylesheet" href='/css/custom.css'>
    <i class="dark hidden"></i>
</head>
<body class="font-sans">
    <div class="min-h-screen flex flex-col bg-gray-100 dark:bg-warmgray-800"><div class="">
    <div class="container max-w-screen-xl mr-auto ml-auto">
        <nav class="flex items-center justify-between flex-wrap  p-6">
            <div class="flex items-center flex-no-shrink  text-white mr-6">
                <a href="http://opensourcebox.com/"><span class="font-semibold text-2xl tracking-tight">OpenSourceBox</span></a>
            </div>
            <div class="flex md:hidden">
                <div class="py-2">
                    <button onclick="toggleDarkMode()" class="focus:outline-none mr-1" aria-label="Darkmode Toggle Button"><i id="icon"
                            class="icon-moon inline-flex align-middle leading-normal text-lg text-white"></i></button>
                    <span class="text-white">|</span>
                </div>
                <button id="hamburgerbtn" class="flex items-center px-3 py-1 text-white hover:opacity-50" aria-label="Hamburger Button">
                    <span class="icon-menu text-2xl"></span>
                </button>
            </div>
            <div class="hidden w-full md:flex md:flex-row sm:items-center md:w-auto" id="mobileMenu">
                <div class="text-sm lg:flex-grow">
                </div>
                <div class="navmenu">
                    
                </div>
                <div class="text-white invisible md:visible">
                    <span>|</span>
                    <button onclick="toggleDarkMode()" class="focus-visible:outline-none" aria-label="Darkmode Toggle Button"><i id="icon2"
                            class="icon-moon hover:opacity-50 duration-200 inline-flex align-middle leading-normal text-lg ml-2"></i></button>
                </div>
            </div>
        </nav>
    </div>
</div>
<style>
    .active {
        display: block;
    }
</style>

<script>
    let hamburger = document.getElementById('hamburgerbtn');

    let mobileMenu = document.getElementById('mobileMenu');

    hamburger.addEventListener('click', function () {
        mobileMenu.classList.toggle('active');
    });
</script>
<div class="container max-w-screen-xl mx-auto mt-4 flex-grow px-5 lg:px-0" id="content">
            <div class="lg:mx-5">
<div class="grid grid-cols-3 gap-4">
    
        <div class="bg-white col-span-3 p-5 dark:bg-warmgray-900 dark:text-white">
            
            <h1 class="title text-4xl font-bold mb-2">Social network analysis with GraphX</h1>
            <div class="content prose md:prose-lg lg:prose-xl max-w-none dark:prose-invert py-1"><p>Social Network Analysis with GraphX</p>
<p>Social networks are a fascinating aspect of our society, one that is greatly enhanced by the advent of advanced computer technologies. With the help of these technologies, we can study the intricate workings of our social networks, discovering the relationships and patterns that exist within them. One such technology that is used for social network analysis is GraphX, which is a distributed graph processing system built on top of the Apache Spark computing engine.</p>
<p>In this blog post, we will explore the key components of GraphX, and how it can be used to analyze social networks. We will cover topics such as graph creation, graph manipulation, and graph algorithms. We will also provide code snippets in Scala to illustrate key concepts throughout the post.</p>
<p>Graph Creation</p>
<p>The first step in any graph analysis is to create the graph. GraphX uses the Graph object to represent a graph, and there are two ways to create a graph. The first is to create it from a set of vertices and edges, and the second is to create it from an RDD[Edge]. Here is an example of how to create a graph using the first method:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> org.apache.spark.graphx._
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> org.apache.spark.rdd.RDD
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Create a Vertex RDD
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">val</span> vertexArray <span style="color:#66d9ef">=</span> <span style="color:#a6e22e">Array</span><span style="color:#f92672">(</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">(</span><span style="color:#ae81ff">1L</span><span style="color:#f92672">,</span> <span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Alice&#34;</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">28</span><span style="color:#f92672">)),</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">(</span><span style="color:#ae81ff">2L</span><span style="color:#f92672">,</span> <span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Bob&#34;</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">27</span><span style="color:#f92672">)),</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">(</span><span style="color:#ae81ff">3L</span><span style="color:#f92672">,</span> <span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Charlie&#34;</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">65</span><span style="color:#f92672">)),</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">(</span><span style="color:#ae81ff">4L</span><span style="color:#f92672">,</span> <span style="color:#f92672">(</span><span style="color:#e6db74">&#34;David&#34;</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">42</span><span style="color:#f92672">)),</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">(</span><span style="color:#ae81ff">5L</span><span style="color:#f92672">,</span> <span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Ed&#34;</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">55</span><span style="color:#f92672">)),</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">(</span><span style="color:#ae81ff">6L</span><span style="color:#f92672">,</span> <span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Fran&#34;</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">50</span><span style="color:#f92672">))</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">val</span> vertexRDD<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">RDD</span><span style="color:#f92672">[(</span><span style="color:#66d9ef">Long</span>, <span style="color:#f92672">(</span><span style="color:#66d9ef">String</span>, <span style="color:#66d9ef">Int</span><span style="color:#f92672">))]</span> <span style="color:#66d9ef">=</span> sc<span style="color:#f92672">.</span>parallelize<span style="color:#f92672">(</span>vertexArray<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Create an Edge RDD
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">val</span> edgeArray <span style="color:#66d9ef">=</span> <span style="color:#a6e22e">Array</span><span style="color:#f92672">(</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Edge</span><span style="color:#f92672">(</span><span style="color:#ae81ff">2L</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">1L</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">7</span><span style="color:#f92672">),</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Edge</span><span style="color:#f92672">(</span><span style="color:#ae81ff">2L</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">4L</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">),</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Edge</span><span style="color:#f92672">(</span><span style="color:#ae81ff">3L</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">2L</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">4</span><span style="color:#f92672">),</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Edge</span><span style="color:#f92672">(</span><span style="color:#ae81ff">3L</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">6L</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">3</span><span style="color:#f92672">),</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Edge</span><span style="color:#f92672">(</span><span style="color:#ae81ff">4L</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">1L</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">),</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Edge</span><span style="color:#f92672">(</span><span style="color:#ae81ff">5L</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">2L</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">),</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Edge</span><span style="color:#f92672">(</span><span style="color:#ae81ff">5L</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">3L</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">8</span><span style="color:#f92672">),</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Edge</span><span style="color:#f92672">(</span><span style="color:#ae81ff">5L</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">6L</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">3</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">val</span> edgeRDD<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">RDD</span><span style="color:#f92672">[</span><span style="color:#66d9ef">Edge</span><span style="color:#f92672">[</span><span style="color:#66d9ef">Int</span><span style="color:#f92672">]]</span> <span style="color:#66d9ef">=</span> sc<span style="color:#f92672">.</span>parallelize<span style="color:#f92672">(</span>edgeArray<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Create a Graph object
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">val</span> graph<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">Graph</span><span style="color:#f92672">[(</span><span style="color:#66d9ef">String</span>, <span style="color:#66d9ef">Int</span><span style="color:#f92672">)</span>, <span style="color:#66d9ef">Int</span><span style="color:#f92672">]</span> <span style="color:#66d9ef">=</span> <span style="color:#a6e22e">Graph</span><span style="color:#f92672">(</span>vertexRDD<span style="color:#f92672">,</span> edgeRDD<span style="color:#f92672">)</span>
</span></span></code></pre></div><p>In this example, we have created a set of vertices and edges, and used them to create a Vertex RDD and an Edge RDD. We then used these RDDs to create a Graph object. The Vertex RDD is a collection of key-value pairs, where the key is the vertex ID and the value is a tuple that represents the vertex attributes. Similarly, the Edge RDD is a collection of Edge objects, where each Edge object represents a directed edge between two vertices.</p>
<p>Graph Manipulation</p>
<p>Once we have created the graph, we can use GraphX to manipulate it in various ways. GraphX provides several functions for graph manipulation, including filtering, subsetting, and mapping. Here is an example of how to filter the graph to retain only the vertices with age greater than 50:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#66d9ef">val</span> newGraph <span style="color:#66d9ef">=</span> graph<span style="color:#f92672">.</span>subgraph<span style="color:#f92672">(</span>vpred <span style="color:#66d9ef">=</span> <span style="color:#f92672">(</span>id<span style="color:#f92672">,</span> attr<span style="color:#f92672">)</span> <span style="color:#66d9ef">=&gt;</span> attr<span style="color:#f92672">.</span>_2 <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">50</span><span style="color:#f92672">)</span>
</span></span></code></pre></div><p>In this example, we have used the subgraph function to create a new graph that retains only the vertices with age greater than 50. The vpred argument is a filter function that takes the vertex ID and attribute as input, and returns a Boolean value indicating whether or not to retain the vertex.</p>
<p>Graph Algorithms</p>
<p>Once we have created and manipulated the graph, we can apply various graph algorithms to it. GraphX provides a wide range of algorithms for graph analysis, such as PageRank, connected components, and triangle counting. Here is an example of how to run PageRank on our graph:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#66d9ef">val</span> ranks <span style="color:#66d9ef">=</span> graph<span style="color:#f92672">.</span>pageRank<span style="color:#f92672">(</span><span style="color:#ae81ff">0.0001</span><span style="color:#f92672">).</span>vertices
</span></span></code></pre></div><p>In this example, we have used the pageRank function to run the PageRank algorithm on our graph, with a tolerance of 0.0001. The function returns a VertexRDD containing the PageRank score for each vertex in the graph.</p>
<p>Conclusion</p>
<p>GraphX is a powerful tool for social network analysis, providing a scalable and efficient way to handle large-scale graph processing. In this blog post, we have covered the key components of GraphX, including graph creation, graph manipulation, and graph algorithms. We have also provided code snippets in Scala to illustrate key concepts throughout the post.</p>
<p>Further Resources</p>
<p>If you are interested in learning more about GraphX and social network analysis, here are some resources to check out:</p>
<ul>
<li>The GraphX Programming Guide: <a href="https://spark.apache.org/docs/latest/graphx-programming-guide.html">https://spark.apache.org/docs/latest/graphx-programming-guide.html</a></li>
<li>The Stanford Network Analysis Project: <a href="https://snap.stanford.edu/">https://snap.stanford.edu/</a></li>
<li>Social Network Analysis in Scala: <a href="https://github.com/slideclimb/socialnetworkanalysis">https://github.com/slideclimb/socialnetworkanalysis</a></li>
</ul>
</div>
        </div>
        
    </div>
    
            </div>
        </div><footer class=" text-white p-6">
  
  <div class="container max-w-screen-xl mr-auto ml-auto">
    <p>&copy; 2023 <a href="http://opensourcebox.com/" class="duration-200 hover:opacity-50">OpenSourceBox</a>
    </p>
    <p>Powered by <a href="https://gohugo.io/" class="duration-200 hover:opacity-50">Hugo</a>, Theme <a
        href="https://github.com/opera7133/Blonde" class="duration-200 hover:opacity-50">Blonde</a>.</p>
  </div>
  
  <script>
    var icon = document.getElementById("icon");
    var icon2 = document.getElementById("icon2");
    
    if (document.documentElement.classList.contains("dark") || localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
      icon.classList.remove("icon-moon");
      icon.classList.add("icon-sun");
      icon2.classList.remove("icon-moon");
      icon2.classList.add("icon-sun");
      document.documentElement.classList.add('dark')
    } else {
      document.documentElement.classList.remove('dark')
    }
    function toggleDarkMode() {
      if (document.documentElement.classList.contains('dark')) {
        icon.classList.remove("icon-sun");
        icon.classList.add("icon-moon");
        icon2.classList.remove("icon-sun");
        icon2.classList.add("icon-moon");
        document.documentElement.classList.remove('dark')
        localStorage.theme = 'light'
      } else {
        icon.classList.remove("icon-moon");
        icon.classList.add("icon-sun");
        icon2.classList.remove("icon-moon");
        icon2.classList.add("icon-sun");
        document.documentElement.classList.add('dark')
        localStorage.theme = 'dark'
      }
    }
  </script>
</footer></div>
</body>

</html>
