<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Social network analysis with GraphX | OpenSourceBox</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="Social Network Analysis with GraphX
Social networks are a fascinating aspect of our society, one that is greatly enhanced by the advent of advanced computer technologies. With the help of these technologies, we can study the intricate workings of our social networks, discovering the relationships and patterns that exist within them. One such technology that is used for social network analysis is GraphX, which is a distributed graph processing system built on top of the Apache Spark computing engine.">
    <meta name="generator" content="Hugo 0.111.3">
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >



    
    
    
      

    

    
    
    <meta property="og:title" content="Social network analysis with GraphX" />
<meta property="og:description" content="Social Network Analysis with GraphX
Social networks are a fascinating aspect of our society, one that is greatly enhanced by the advent of advanced computer technologies. With the help of these technologies, we can study the intricate workings of our social networks, discovering the relationships and patterns that exist within them. One such technology that is used for social network analysis is GraphX, which is a distributed graph processing system built on top of the Apache Spark computing engine." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://opensourcebox.com/posts/social-network-analysis-with-graphx/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-09-20T00:00:00+00:00" />
<meta property="article:modified_time" content="2022-09-20T00:00:00+00:00" />
<meta itemprop="name" content="Social network analysis with GraphX">
<meta itemprop="description" content="Social Network Analysis with GraphX
Social networks are a fascinating aspect of our society, one that is greatly enhanced by the advent of advanced computer technologies. With the help of these technologies, we can study the intricate workings of our social networks, discovering the relationships and patterns that exist within them. One such technology that is used for social network analysis is GraphX, which is a distributed graph processing system built on top of the Apache Spark computing engine."><meta itemprop="datePublished" content="2022-09-20T00:00:00+00:00" />
<meta itemprop="dateModified" content="2022-09-20T00:00:00+00:00" />
<meta itemprop="wordCount" content="669">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Social network analysis with GraphX"/>
<meta name="twitter:description" content="Social Network Analysis with GraphX
Social networks are a fascinating aspect of our society, one that is greatly enhanced by the advent of advanced computer technologies. With the help of these technologies, we can study the intricate workings of our social networks, discovering the relationships and patterns that exist within them. One such technology that is used for social network analysis is GraphX, which is a distributed graph processing system built on top of the Apache Spark computing engine."/>

	
  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        OpenSourceBox
      
    </a>
    <div class="flex-l items-center">
      

      
      
<div class="ananke-socials">
  
</div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked">
          
        POSTS
      </aside>
      










  <div id="sharing" class="mt3 ananke-socials">
    
  </div>


      <h1 class="f1 athelas mt3 mb1">Social network analysis with GraphX</h1>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2022-09-20T00:00:00Z">September 20, 2022</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>Social Network Analysis with GraphX</p>
<p>Social networks are a fascinating aspect of our society, one that is greatly enhanced by the advent of advanced computer technologies. With the help of these technologies, we can study the intricate workings of our social networks, discovering the relationships and patterns that exist within them. One such technology that is used for social network analysis is GraphX, which is a distributed graph processing system built on top of the Apache Spark computing engine.</p>
<p>In this blog post, we will explore the key components of GraphX, and how it can be used to analyze social networks. We will cover topics such as graph creation, graph manipulation, and graph algorithms. We will also provide code snippets in Scala to illustrate key concepts throughout the post.</p>
<p>Graph Creation</p>
<p>The first step in any graph analysis is to create the graph. GraphX uses the Graph object to represent a graph, and there are two ways to create a graph. The first is to create it from a set of vertices and edges, and the second is to create it from an RDD[Edge]. Here is an example of how to create a graph using the first method:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> org.apache.spark.graphx._
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> org.apache.spark.rdd.RDD
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Create a Vertex RDD
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">val</span> vertexArray <span style="color:#66d9ef">=</span> <span style="color:#a6e22e">Array</span><span style="color:#f92672">(</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">(</span><span style="color:#ae81ff">1L</span><span style="color:#f92672">,</span> <span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Alice&#34;</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">28</span><span style="color:#f92672">)),</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">(</span><span style="color:#ae81ff">2L</span><span style="color:#f92672">,</span> <span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Bob&#34;</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">27</span><span style="color:#f92672">)),</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">(</span><span style="color:#ae81ff">3L</span><span style="color:#f92672">,</span> <span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Charlie&#34;</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">65</span><span style="color:#f92672">)),</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">(</span><span style="color:#ae81ff">4L</span><span style="color:#f92672">,</span> <span style="color:#f92672">(</span><span style="color:#e6db74">&#34;David&#34;</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">42</span><span style="color:#f92672">)),</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">(</span><span style="color:#ae81ff">5L</span><span style="color:#f92672">,</span> <span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Ed&#34;</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">55</span><span style="color:#f92672">)),</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">(</span><span style="color:#ae81ff">6L</span><span style="color:#f92672">,</span> <span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Fran&#34;</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">50</span><span style="color:#f92672">))</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">val</span> vertexRDD<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">RDD</span><span style="color:#f92672">[(</span><span style="color:#66d9ef">Long</span>, <span style="color:#f92672">(</span><span style="color:#66d9ef">String</span>, <span style="color:#66d9ef">Int</span><span style="color:#f92672">))]</span> <span style="color:#66d9ef">=</span> sc<span style="color:#f92672">.</span>parallelize<span style="color:#f92672">(</span>vertexArray<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Create an Edge RDD
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">val</span> edgeArray <span style="color:#66d9ef">=</span> <span style="color:#a6e22e">Array</span><span style="color:#f92672">(</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Edge</span><span style="color:#f92672">(</span><span style="color:#ae81ff">2L</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">1L</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">7</span><span style="color:#f92672">),</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Edge</span><span style="color:#f92672">(</span><span style="color:#ae81ff">2L</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">4L</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">),</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Edge</span><span style="color:#f92672">(</span><span style="color:#ae81ff">3L</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">2L</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">4</span><span style="color:#f92672">),</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Edge</span><span style="color:#f92672">(</span><span style="color:#ae81ff">3L</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">6L</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">3</span><span style="color:#f92672">),</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Edge</span><span style="color:#f92672">(</span><span style="color:#ae81ff">4L</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">1L</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">),</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Edge</span><span style="color:#f92672">(</span><span style="color:#ae81ff">5L</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">2L</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">),</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Edge</span><span style="color:#f92672">(</span><span style="color:#ae81ff">5L</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">3L</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">8</span><span style="color:#f92672">),</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Edge</span><span style="color:#f92672">(</span><span style="color:#ae81ff">5L</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">6L</span><span style="color:#f92672">,</span> <span style="color:#ae81ff">3</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">val</span> edgeRDD<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">RDD</span><span style="color:#f92672">[</span><span style="color:#66d9ef">Edge</span><span style="color:#f92672">[</span><span style="color:#66d9ef">Int</span><span style="color:#f92672">]]</span> <span style="color:#66d9ef">=</span> sc<span style="color:#f92672">.</span>parallelize<span style="color:#f92672">(</span>edgeArray<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Create a Graph object
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">val</span> graph<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">Graph</span><span style="color:#f92672">[(</span><span style="color:#66d9ef">String</span>, <span style="color:#66d9ef">Int</span><span style="color:#f92672">)</span>, <span style="color:#66d9ef">Int</span><span style="color:#f92672">]</span> <span style="color:#66d9ef">=</span> <span style="color:#a6e22e">Graph</span><span style="color:#f92672">(</span>vertexRDD<span style="color:#f92672">,</span> edgeRDD<span style="color:#f92672">)</span>
</span></span></code></pre></div><p>In this example, we have created a set of vertices and edges, and used them to create a Vertex RDD and an Edge RDD. We then used these RDDs to create a Graph object. The Vertex RDD is a collection of key-value pairs, where the key is the vertex ID and the value is a tuple that represents the vertex attributes. Similarly, the Edge RDD is a collection of Edge objects, where each Edge object represents a directed edge between two vertices.</p>
<p>Graph Manipulation</p>
<p>Once we have created the graph, we can use GraphX to manipulate it in various ways. GraphX provides several functions for graph manipulation, including filtering, subsetting, and mapping. Here is an example of how to filter the graph to retain only the vertices with age greater than 50:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#66d9ef">val</span> newGraph <span style="color:#66d9ef">=</span> graph<span style="color:#f92672">.</span>subgraph<span style="color:#f92672">(</span>vpred <span style="color:#66d9ef">=</span> <span style="color:#f92672">(</span>id<span style="color:#f92672">,</span> attr<span style="color:#f92672">)</span> <span style="color:#66d9ef">=&gt;</span> attr<span style="color:#f92672">.</span>_2 <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">50</span><span style="color:#f92672">)</span>
</span></span></code></pre></div><p>In this example, we have used the subgraph function to create a new graph that retains only the vertices with age greater than 50. The vpred argument is a filter function that takes the vertex ID and attribute as input, and returns a Boolean value indicating whether or not to retain the vertex.</p>
<p>Graph Algorithms</p>
<p>Once we have created and manipulated the graph, we can apply various graph algorithms to it. GraphX provides a wide range of algorithms for graph analysis, such as PageRank, connected components, and triangle counting. Here is an example of how to run PageRank on our graph:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#66d9ef">val</span> ranks <span style="color:#66d9ef">=</span> graph<span style="color:#f92672">.</span>pageRank<span style="color:#f92672">(</span><span style="color:#ae81ff">0.0001</span><span style="color:#f92672">).</span>vertices
</span></span></code></pre></div><p>In this example, we have used the pageRank function to run the PageRank algorithm on our graph, with a tolerance of 0.0001. The function returns a VertexRDD containing the PageRank score for each vertex in the graph.</p>
<p>Conclusion</p>
<p>GraphX is a powerful tool for social network analysis, providing a scalable and efficient way to handle large-scale graph processing. In this blog post, we have covered the key components of GraphX, including graph creation, graph manipulation, and graph algorithms. We have also provided code snippets in Scala to illustrate key concepts throughout the post.</p>
<p>Further Resources</p>
<p>If you are interested in learning more about GraphX and social network analysis, here are some resources to check out:</p>
<ul>
<li>The GraphX Programming Guide: <a href="https://spark.apache.org/docs/latest/graphx-programming-guide.html">https://spark.apache.org/docs/latest/graphx-programming-guide.html</a></li>
<li>The Stanford Network Analysis Project: <a href="https://snap.stanford.edu/">https://snap.stanford.edu/</a></li>
<li>Social Network Analysis in Scala: <a href="https://github.com/slideclimb/socialnetworkanalysis">https://github.com/slideclimb/socialnetworkanalysis</a></li>
</ul>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="http://opensourcebox.com/" >
    &copy;  OpenSourceBox 2023 
  </a>
    <div>
<div class="ananke-socials">
  
</div>
</div>
  </div>
</footer>

  </body>
</html>
